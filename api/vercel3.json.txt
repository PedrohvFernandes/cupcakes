{
  "version": 2,
  "builds": [
    {
      "src": "dist/index.js",
      "use": "@vercel/node",
      "config": { "includeFiles": ["dist/**"] }
    }
  ],
  "routes": [
    {
      "src": "/(.*)",
      "dest": "dist/index.js"
    }
  ]
}

pacakge.json

  "scripts": {
    "build-local": "tsc && tsc-alias",
    "start": "node dist/server.js",
    "dev": "ts-node-dev -r tsconfig-paths/register src/server.ts",

    "build": "rimraf dist && tsc && tsc-alias",
    "ts.check": "tsc --project tsconfig.json",
    "add-build": "git add dist"
  },
  "pre-commit": [
    "ts.check",
    "build",
    "add-build"
  ],

